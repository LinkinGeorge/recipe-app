<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{ recipe.title }}</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="increaseCookCount()">
        <ion-icon name="timer"></ion-icon>
        <ion-badge>{{ cookCount }}</ion-badge>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content padding *ngIf="recipe">
  <h1 text-center margin text-wrap>{{ recipe.title }}</h1>
  <button ion-button (click)="showConverter()">
    <ion-label>Umrechner</ion-label>
    <ion-icon name="refresh" color="dark"></ion-icon>
  </button>
  <img *ngIf="recipe.heroImage" class="img-fullwidth" src="{{recipe.heroImage}}" alt="{{recipe.title}}">
  <ion-grid>
    <ion-row>
      <ion-col col-6>
        <ion-range [(ngModel)]="servings" min="1" max="10">
          <ion-label range-left>{{ servings }}</ion-label>
          <ion-icon range-right name="people"></ion-icon>
        </ion-range>
      </ion-col>
      <ion-col col-6>
        <ion-label *ngIf="recipe.categories" text-right text-wrap><span *ngFor="let ctg of recipe.categories"> #<strong>{{ ctg }}</strong> </span></ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col col-6>
        <ion-icon name="time" style="padding-right: 0.5rem"></ion-icon><span> {{ recipe.duration }} Minuten</span>
      </ion-col>
      <ion-col col-6 text-right padding-right>
        <ion-icon name="star-outline" style="padding-right: 0.5rem"></ion-icon><span> {{ recipe.difficulty | difficultyString }}</span>
      </ion-col>
    </ion-row>
</ion-grid>
<h2 text-center margin-bottom>Zutaten</h2>
<ion-list>
    <button ion-item *ngFor="let ingr of recipe.ingredients" text-wrap>
      <ion-icon name="cart" item-right (click)="addIngredient(ingredient.textContent)" color="dark"></ion-icon>
      <span #ingredient>{{ ingr.name | calcServings:recipe.servings:servings }}</span>
      <span *ngIf="ingr.hint" class="ml-1">({{ ingr.hint }})</span>
    </button>
</ion-list>
<h2 text-center margin-bottom>Beschreibung</h2>
<ion-card *ngIf="recipe.description">
  <ion-card-content>
    <markdown *ngIf="recipe.description">{{ recipe.description }}</markdown>
  </ion-card-content>
</ion-card>
<ion-card class="card-background-page">
  <img *ngIf="recipe.descrImage" src="{{ recipe.descrImage }}">
</ion-card>
</ion-content>
